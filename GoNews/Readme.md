# GoNews

## Задание

Разработка агрегатора новостей - программы, которая собирает публикации с нескольких информационных сайтов и
показывает пользователям агрегированную ленту самых последних новостей.

| №  | Требование                                                                                                                                                 |
|----|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1  | Приложение должно иметь веб-интерфейс с отображением десяти последних по времени публикаций.                                                               |
| 2  | Приложение должно принимать на вход конфигурационный файл в формате JSON с массивом ссылок на RSS-ленты информационных сайтов и периодом опроса в минутах. |
| 3  | Приложение должно регулярно выполнять обход всех переданных в конфигурации RSS-лент.                                                                       |
| 4  | Приложение должно выполнять чтение каждой RSS-ленты в отдельном потоке выполнения (горутине).                                                              |
| 5  | Приложение должно сохранять публикации в БД.                                                                                                               |
| 6  | Приложение должно состоять из сервера приложений, базы данных и веб-интерфейса пользователя.                                                               |
| 7  | Веб-интерфейс должен получать от сервера приложений данные в формате JSON.                                                                                 |
| 8  | Сервер приложения должен предоставлять API, посредством которого осуществляется взаимодействие сервера и веб-интерфейса.                                   |
| 9  | API должен предоставлять метод для получения заданного количества новостей. Требуемое количество публикаций указывается в пути запроса метода API.         |   
| 10 | Агрегатор должен хранить как минимум следующий набор данных для каждой публикации:  заголовок, описание, дата публикации, ссылка на источник.              |

## Решение

- При решении была использована нереляционная БД - MongoDB
- Модель данных для БД и для RSS-потока выведена в отдельный пакет `model`
- Файл с настройками - `config.yaml`. Имеет формат `yaml`
- Пакеты `webapp` в `cmd` и `web` в корне скопированы
  из [репозитория](https://github.com/SkillfactoryCoding/GO-Advanced-GoNews/tree/master)

[Решение находится здесь](https://github.com/MoJIoToK/learning_go/tree/master/GoNews)

## Запуск приложения

Для запуска приложения необходимо развернуть сервер с БД mongoDB и подключиться к серверу.

БД была развернута в Docker.

Для запуска контейнера с mongoDB была введена команда:
`docker run -p 27017:27017 -d mongo`

## Методы проверки

Проверка производилась с помощью _Postman_:

- GET `/news?s={query}&page={num}&limit={count}`, где query - поисковой запрос, num - номер страницы (по-умолчанию 1),
  count - количество новостей на страницу. Возвращает все статьи в соответствии с параметрами с пагинацией.
- GET `/news/id/{id}` , id - идентификатор ObjectID новостной статьи, берется из БД MongoDB. Возвращает статью с
  переданным ID.

## References

- [Сервис шлюз](https://github.com/MoJIoToK/learning_go/tree/master/APIGateWay)
- [Сервис комментариев](https://github.com/MoJIoToK/learning_go/tree/master/Comments)
- [Сервис цензурирования комментариев](https://github.com/MoJIoToK/learning_go/tree/master/Cenzor)